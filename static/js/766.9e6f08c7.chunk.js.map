{"version":3,"file":"static/js/766.9e6f08c7.chunk.js","mappings":"mBAIAA,KAAKC,UAAYC,UACb,MAAMC,QAAiBC,UAAUC,QAAQC,eACnCC,QAAyBJ,EAASK,mBAAmB,UAAW,CAClEC,QAAQ,IAGNC,EAAsB,GAE5B,UAAW,MAAOC,EAAeC,KAAoBL,EAAiBM,UAAW,CAC7E,IAAIC,EAGJ,MAAMC,QAA6CH,EAAgBI,cAAc,aAC3EC,QAAuBF,EAAeG,UAK5C,IAAIC,EAFJL,EAAa,CAAEM,GAAIT,EAAeU,QAAS,CAACC,KAFzBC,KAAKC,YAAYP,EAASQ,SAEkBf,MAAO,CAAC,GAGvE,IAEIS,QAAuBP,EAAgBI,cAAc,WACzD,CAAE,MAAOU,GACL,CAEJ,IAEIP,QAAuBP,EAAgBI,cAAc,cACzD,CAAE,MAAOU,GACL,CAEJ,IAEIP,QAAuBP,EAAgBI,cAAc,cACzD,CAAE,MAAOU,GACL,CAEJ,QAAuBC,IAAnBR,EAA8B,CAC9B,MAAMS,QAAuBT,EAAeD,UAC5CJ,EAAWJ,MAAMmB,KAAOD,CAC5B,CAEAlB,EAAMoB,KAAKhB,EACf,CAEAd,KAAK+B,YAAYrB,EAAM,C","sources":["components/CardStack/worker.ts"],"sourcesContent":["/* eslint-disable no-restricted-globals */\n\nimport PassBundle from '../../interfaces/PassBundle';\n\nself.onmessage = async (e: MessageEvent<String>) => {\n    const opfsRoot = await navigator.storage.getDirectory();\n    const defaultDirectory = await opfsRoot.getDirectoryHandle(\"default\", {\n        create: true,\n    });\n\n    const files: PassBundle[] = [];\n\n    for await (const [directoryName, directoryHandle] of defaultDirectory.entries()) {\n        let passBundle: PassBundle\n\n        // @ts-ignore\n        const passFileHandle: FileSystemFileHandle = await directoryHandle.getFileHandle('pass.json');\n        const passFile: File = await passFileHandle.getFile()\n        const passObject = JSON.parse(await passFile.text())\n\n        passBundle = { id: directoryName, objects: {pass: passObject}, files: {} }\n\n        let logoFileHandle: FileSystemFileHandle | undefined = undefined;\n        try {\n            // @ts-ignore\n            logoFileHandle = await directoryHandle.getFileHandle('logo.png');\n        } catch (e) {\n            // not found, silent skip\n        }\n        try {\n            // @ts-ignore\n            logoFileHandle = await directoryHandle.getFileHandle('logo@2x.png');\n        } catch (e) {\n            // not found, silent skip\n        }\n        try {\n            // @ts-ignore\n            logoFileHandle = await directoryHandle.getFileHandle('logo@3x.png');\n        } catch (e) {\n            // not found, silent skip\n        }\n        if (logoFileHandle !== undefined) {\n            const logoFile: File = await logoFileHandle.getFile()\n            passBundle.files.logo = logoFile\n        }\n\n        files.push(passBundle)\n    }\n\n    self.postMessage(files);\n};\n\nexport { };\n"],"names":["self","onmessage","async","opfsRoot","navigator","storage","getDirectory","defaultDirectory","getDirectoryHandle","create","files","directoryName","directoryHandle","entries","passBundle","passFileHandle","getFileHandle","passFile","getFile","logoFileHandle","id","objects","pass","JSON","parse","text","e","undefined","logoFile","logo","push","postMessage"],"sourceRoot":""}